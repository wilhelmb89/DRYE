<script>
  {% liquid
    if routes.root_url == '/'
      assign base = ''
    else
      assign base = routes.root_url
    endif
  %}
  window.shopUrl = '{{ base }}';
  window.routes = {
    cart_add_url: '{{ routes.cart_add_url }}',
    cart_change_url: '{{ routes.cart_change_url }}',
    cart_update_url: '{{ routes.cart_update_url }}',
    cart_url: '{{ routes.cart_url }}',
    predictive_search_url: '{{ routes.predictive_search_url }}',
  };
</script>
<script src="https://cdn.jsdelivr.net/npm/sharer.js@latest/sharer.min.js" defer></script>

{%- comment -%} Core vendor + theme bundles {%- endcomment -%}
<script src="{{ 'vendor.js' | asset_url }}" defer></script>
<script src="{{ 'main.bundle.js' | asset_url }}" defer></script>

{%- comment -%} Använd minifierad theme om den finns {%- endcomment -%}
{%- if assets['theme.min.js'] -%}
  <script src="{{ 'theme.min.js' | asset_url }}" defer></script>
{%- else -%}
  <script src="{{ 'theme.js' | asset_url }}" defer></script>
{%- endif -%}

{%- comment -%} Ladda Swiper endast där den behövs {%- endcomment -%}
{%- if request.page_type == 'product' or template.name == 'index' -%}
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js" defer></script>
{%- endif -%}
