<style>
  .scrolling-container {
    overflow: hidden;
    position: relative;
    width: 100%;
    padding: 1rem 0; /* lite luft ovan och under */
  }

  .icons-wrapper {
    display: flex;
    align-items: center; /* centrera vertikalt */
    animation: scroll-left 40s linear infinite;
  }

  .icon-block {
    flex: 0 0 auto;
    padding: 0 3rem; /* justera avstånd mellan ikoner här */
    display: flex;
    align-items: center;
    justify-content: center;
    height: 80px; /* justera efter behov */
  }

  .icon-block img {
    max-height: 100%;
    max-width: 100%;
    object-fit: contain;
    display: block;
  }

  @keyframes scroll-left {
    0% {
      transform: translateX(0%);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  @media screen and (max-width: 767px) {
    .icons-wrapper {
      animation-duration: 30s;
    }
    .icon-block {
      padding: 0 1.5rem;
      height: 60px;
    }
  }
</style>


<div class="scrolling-container">
  <div class="icons-wrapper">
    {%- for block in section.blocks -%}
      <div class="icon-block">
        {%- if block.settings.image != blank -%}
          <img src="{{ block.settings.image | image_url }}" loading="lazy" style="width: {{ block.settings.image_width }}%;">
        {%- endif -%}
      </div>
    {%- endfor -%}
    {%- for block in section.blocks -%}
      <div class="icon-block">
        {%- if block.settings.image != blank -%}
          <img src="{{ block.settings.image | image_url }}" loading="lazy" style="width: {{ block.settings.image_width }}%;">
        {%- endif -%}
      </div>
    {%- endfor -%}
  </div>
</div>



{% schema %}
  {
    "name": "Icons",
    "tag": "section",
    "class": "section-icons",
    "settings": [
      {
        "type": "range",
        "id": "cols_desk",
        "min": 1,
        "max": 5,
        "step": 1,
        "unit": "c",
        "label": "Columns count on desktop",
        "default": 4
      },
      {
        "type": "range",
        "id": "cols_mob",
        "min": 1,
        "max": 3,
        "step": 1,
        "unit": "c",
        "label": "Columns count on mobile",
        "default": 2
      },
    ],
    "blocks": [
      {
        "name": "Icon",
        "type": "icon",
        "settings": [
           {
             "type": "header",
             "content": "Desktop"
           },
           {
             "type": "image_picker",
             "id": "image",
             "label": "Image"
           },
           {
              "type": "range",
              "id": "image_width",
              "label": "Image width",
              "default": 50,
              "step": 1,
              "unit": "%",
              "min": 20,
              "max": 100
           },
           {
             "type": "header",
             "content": "Tablet"
           },
           {
              "type": "range",
              "id": "image_width_tablet",
              "label": "Image width",
              "default": 50,
              "step": 1,
              "unit": "%",
              "min": 20,
              "max": 100
           },
           {
             "type": "header",
             "content": "Mobile"
           },
           {
             "type": "image_picker",
             "id": "image_mobile",
             "label": "Image (Mobile)"
           },
           {
             "type": "range",
             "id": "image_width_mobile",
             "label": "Image width",
              "default": 50,
              "step": 1,
              "unit": "%",
              "min": 20,
              "max": 100
           }
        ]
      }
    ],
    "presets": [
      {
        "name": "Icons",
        "settings": {
        }
      }
    ]
  }
{% endschema %}